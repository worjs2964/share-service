<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="fragments.html :: head"></head>
<body class="bg-light">
<nav th:replace="fragments.html :: nav"></nav>
    <div class="container" th:object="${share}">
        <div class="pt-5 row justify-content-center">
            <div class="col-sm-11">
                <h3>결제</h3>
            </div>
            <div class="col-sm-11">
                <hr style="border: solid 1px mediumpurple;"/>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-sm-1">
                <svg th:data-jdenticon-value="*{master.getNickname()}" width="100%" class="rounded bg-light border"></svg>
            </div>
            <div class="col-sm-10">
                <div class="row">
                    <p class="lead col" th:text="*{serviceName}">서비스명</p>
                    <div class="col text-right">
                        <p>종료일: <span style="font-weight: lighter">[[*{shareFinishAt}]] ([[${share.getDday()}]]일 / 일 평균 [[*{#numbers.formatInteger(dailyRate, 0, 'COMMA')}]]원)</span>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <h2 class="col" th:text="*{title}" style="font-weight: normal">제목</h2>
                </div>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-11">
                <hr/>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-sm-11">
                <p><span>[[${member.email}]]</span> (<span>[[${member.nickname}]]</span>님)</p>
            </div>
        </div>
        <div class="row justify-content-center mt-5">
            <table class="table col-11 text-center border">
                <thead>
                <tr>
                    <th scope="col">참여일</th>
                    <th scope="col">판매가</th>
                    <th scope="col">수수료</th>
                    <th scope="col">합계</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>[[${share.getDday()}]]일</td>
                    <td>[[${#numbers.formatInteger(share.getCost(), 0, 'COMMA')}]]원</td>
                    <td>[[${#numbers.formatInteger(share.getCost()/10, 0, 'COMMA')}]]원</td>
                    <td><span style="font-weight: bold; color: mediumpurple; font-size: x-large">[[${#numbers.formatInteger(share.getTotalCost(), 0, 'COMMA')}]]</span>원</td>
                </tr>
                </tbody>
            </table>
        </div>

        <div class="row justify-content-center">
            <div class="col-11 text-center">
                <p style="color: red;">본 서비스는 실제 서비스가 아닌 학습용 서비스로, 결제된 금액은 매일 밤 자정에 환불됩니다.</p>
            </div>
        </div>

        <div class="row my-5 justify-content-center ">
            <a class="col-sm-3 btn btn-lg m-1" style="background-color: lightgray; color: white;"
            th:href="@{|/share/${share.id}|}">
                뒤로가기
            </a>
            <a class="col-sm-3 btn btn-lg m-1" style="background-color: mediumpurple; color: white;"
               th:href="@{|/complete/${share.id}|}">
                결제하기
            </a>
        </div>
    </div>


</body>
</html>